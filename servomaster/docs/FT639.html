<html>
    <head>
        <title>
            ServoMaster: Observations on FerretTronics FT639
        </title>
        <meta name="description"
              content="ServoMaster: platform independent servo controller driver">
        <meta name="keywords"
              content="ServoMaster platform independent servo controller driver FT639 Phidget Java Linux">
    </head>
    <body bgcolor="#ffffff" link="#334455">
        <img src="images/servos.jpg"
             alt="Picture of servos"
             align=left
             width=7%
             height=7%>
                            
        <A href="http://sourceforge.net">
            <IMG src="http://sourceforge.net/sflogo.php?group_id=34418&amp;type=5"
                 width="210"
                 height="62"
                 border="0"
                 alt="SourceForge Logo"
                 align="right">
        </A>
        
        </A>
        
        <h1>
            <a href="../index.html">ServoMaster</a>: Observations on <a href="http://ferrettronics.com/">FerretTronics</a> FT639
        </h1>
        
        <hr>
        <table border=0 width=100%>
            <tr>
                <td valign=top width=20%>
                
                    <strong>
                        <a href="../index.html">Introduction</a>
                    </strong>
                    
                    <br>
                    
                    <strong>
                        <a href="index.html">Documentation</a>
                    </strong>
                    
                    <font size=-1>
                        <ul>
                        
                            <strong>
                                Platform Neutral
                            </strong>
                            
                            <ul>
                            
                                <li> <a href="ideal_controller.html">A Dream
                                     About Ideal Servo Controller</a>
                                     
                                <li> <a
                                     href="smooth_transformer.html">Mixing
                                     up transition controllers and
                                     coordinate transformers</a>
                                     
                                <li> <a href="future.html">Future Plans &
                                     Crazy Ideas</a>
                                
                            </ul>
                        
                            <strong>
                                <a href="../meta/index.html">Metadata</a>
                            </strong>
                            
                            <br>
                        
                            <strong>
                                Driver Release Notes
                            </strong>
                            
                            <ul>
                            
                                <li> <strong>FT639</strong>
                                
                                <li> <a href="USB_Phidget.html">PhidgetServo v3.0</a>
                                
                                <li> <a href="USB_Phidget4.html">PhidgetAdvancedServo</a>
                            </ul>
                        
                        </ul>
                        
                    </font>

                    <p>
                    
                    <strong>
                        <a href="getinvolved.html">Get Involved</a>
                    </strong>
                    
                    <br>
                    
                    <strong>
                        SourceForge
                    </strong>
                    
                    <font size=-1>
                    
                        <ul>
                        
                            <li> <a href="http://sourceforge.net/projects/servomaster/">Project Page</a>
                        
                            <li> <a href="http://sourceforge.net/project/showfiles.php?group_id=34418">Downloads</a>
                            
                            <li> <a href="http://sourceforge.net/cvs/?group_id=34418">CVS</a>
                            
                            <li> <a href="http://sourceforge.net/mail/?group_id=34418">Mailing Lists</a>
                            
                            <li> <a href="http://sourceforge.net/tracker/?group_id=34418&atid=412121">Bug Reports</a>

                            <li> <a href="apidocs/index.html">Javadocs</a>
                        
                        </ul>

                    </font>

                    <strong>
                        Family
                    </strong>
                    
                    <font size=-1>
                    
                        <ul>
                        
                            <li> <a href="http://diy-zoning.sourceforge.net/">DIY Zoning</a>
                            
                            <li> <a href="http://haywire.sourceforge.net/">Haywire</a>
                            
                            <li> <a href="http://jukebox4.sourceforge.net">Jukebox</a>
                        
                            <li> <strong>ServoMaster</strong>
                        
                        </ul>

                    </font>

                </td>
                <td valign=top>
                    <table border=0 width=100%>
                        <tr>
                            <th bgcolor="#737b9c" align=left>
                                <font color="#ffffff">Good Things</font>
                            </th>
                        </tr>
                        <tr>
                            <td>
                            <blockquote>
                            
                                <a href="images/servomaster_console.png"><img
                                src="images/ft639_console.small.png"
                                alt="PhidgetServo console"
                                align="right"></a>
                                
                                <ul>
                                
                                    <li> Cheap, as in inexpensive.
                                    
                                    <li> Simple. Takes an hour or less for somebody familiar with
                                         the craft to put it together.
                                         
                                    <li> The protocol has a relatively low overhead (for example,
                                         SSC has an overhead of 33.3% - every command (two bytes)
                                         has to start with the sync byte).
                                         
                                    <li> Has a single power source. For me, this might have been a
                                         deciding factor.
                                
                                </ul>

                            </blockquote>
                            </td>
                        </tr>
                        <tr>
                            <th bgcolor="#737b9c" align=left>
                                <font color="#ffffff">Bad Things</font>
                            </th>
                        </tr>
                        <tr>
                            <td>
                            <blockquote>
                            
                                <ul>
                                
                                    <li> Cheap, as in having limited functionality.
                                    
                                    <p>
                                    
                                    <li> Is a write-only device. It is not possible to even tell
                                         whether it is connected to the serial port, save read the
                                         status. Minimal functionality, like "controller ready"
                                         status reflected on hardware flow control pin, would be
                                         great.
                                         
                                         <p>
                 
                                    <li> I think the guys really, really <a
                                         href="http://www.ferrettronics.com/faq.html#MiscQ1">underestimate</a>
                                         the necessity of higher speed
                                         communication. Consider this: on
                                         2400 baud, it takes about 10-11
                                         milliseconds to transmit a command
                                         to the servo with the protocol
                                         currently used. It allows up to 100
                                         steps per second when controlling a
                                         single servo.
                                         
                                         <p>
                                         
                                         When controlling five servos
                                         simultaneously (maximum supported
                                         by FT639) this figure drops down to
                                         about 20 steps per second.
                                         
                                         <p>
                                         
                                         When controlling twenty five servos
                                         simultaneously (maximum supported
                                         by FT649) this figure drops to
                                         about 4 (four) steps per second.
                                         
                                         <p>
                                         
                                         Suppose, I have a requirement of
                                         controlling the servos in a smooth,
                                         silent manner, or smoothly and
                                         precisely. Does this requirement
                                         get satisfied when I have twenty
                                         five servos? No. Please note, that
                                         raising the communication speed to
                                         9600 baud is hardly enough. 19200
                                         seems to be more or less
                                         acceptable.
                                         
                                         <p>
                                         
                                         Oh well.
                                         
                                         <p>
                                         
                                    <li> More about communication speed
                                         (thanks, Chester): there are
                                         actully two separate issues:
                                         latency and bandwidth. I believe in
                                         this case the latency is negligible
                                         (more numbers later), because the
                                         mechanical delays in the apparatus
                                         connected to the servo may more or
                                         less be of comparable order with
                                         the protocol latency. Bandwidth,
                                         however, <strong>is</strong> an
                                         issue here.
                                         
                                         <p>
                                    
                                    <li> Be careful with the header length
                                         support. The lower values for the
                                         header length make the controller
                                         issue really short pulses that make
                                         the servos go out of range. The
                                         indication of that (at least for <a
                                         href="http://www.servocity.com/Products/Futaba_Servos_/S3003_Standard/s3003_standard.html">Futaba
                                         S3003</a>) is a high-pitch noise
                                         (ever been to the dentist?  The
                                         kind of noise their tools have, but
                                         higher). I don't think it is very
                                         good for the servo, and it
                                         definitely makes the servo
                                         uncontrollable.
                                         
                                         <p>
                                         
                                         The default value for the header
                                         length (doesn't seem to be 0,
                                         doesn't seem to be 15 (maximum),
                                         doesn't seem to be 7) works just
                                         fine. Use this feature only if
                                         everything else fails. Keep in mind
                                         that this is a controller-wide
                                         feature, not servo specific.
                                         
                                         <p>
                                         
                                     <li> State transitions of the hardware
                                          controller when changing the
                                          header length and/or range (90/180
                                          degrees) are really unpredictable.
                                          I've taken countermeasures against
                                          the range changes, and gave up on
                                          header length changes - caveat
                                          emptor.
                                          
                                          <p>
                                          
                                     <li> Seems to be unreliable when a
                                          massive data transfer on the
                                          serial port is coming. When I
                                          install a crawl transition
                                          controller on a servo and set it
                                          to a different position, the
                                          controller gets flooded with data
                                          and seems to be misinterpreting
                                          the servo number once in a while.
                                          As a result, wrong servo gets
                                          positioned, and since the position
                                          of a different servo is unrelated,
                                          this wreaks havoc on the system.
                                          
                                          <p>
                                          
                                          For quite a long time I thought
                                          that this is related to the noise
                                          in the serial cable, but now I
                                          tend to think that the controller
                                          is the culprit.
                                          
                                </ul>
    
                            </blockquote>
                            </td>
                        </tr>
                        <tr>
                            <th bgcolor="#737b9c" align=left>
                                <font color="#ffffff">Conclusion</font>
                            </th>
                        </tr>
                        <tr>
                            <td>
                            <blockquote>
                            
                                Usable.
                            
                            </blockquote>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <hr>
        <table border=0 width=100%>
            <tr>
                <td align=left>
                    <font size=-1>
                        <a href="../index.html">ServoMaster: Home</a>
                    </font>                                       
                </td>
                <td align=right>
                    <font size=-1>
                        Copyright &copy; <a href="mailto:vt@freehold.crocodile.org">Vadim Tkachenko</a> 2001-2002
                    </font>
                </td>
            </tr>
        </table>

    </body>
</html>