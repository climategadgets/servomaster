<html>
    <head>
        <title>
            
            ServoMaster: A Dream About the Ideal Servo Controller
            
        </title>
    </head>
    <body>
    
        <a href="http://sourceforge.net">
            <img src="http://sourceforge.net/sflogo.php?group_id=34418&type=1"
                 width="88"
                 height="31"
                 border="0"
                 alt="SourceForge Logo"
                 align=right>
            </A>
    
        <h1>ServoMaster: A Dream About The Ideal Servo Controller</h1>
    
        <font size="-1"><i>As the work continues, some of the ideas below
        will be implemented.  As soon as that happens, the corresponding
        parts of the text will be marked <font
        color="blue">blue</font>.</i></font>
        
        <p>
        
        An ideal servo controller should be able to do at least this:
        
        <ul>
            
            <li> Report the status.
            
            <li> <font color="blue">Support the capabilities
                 discovery.</font> Of course, on the hardware level the
                 servo can't really tell much about itself, but <font
                 color="blue">the abstraction should support it.</font>
                 
            <li> Implication: a database of servos in existence would not
                 take much space, but will be very useful.
                 
            <li> Complication: the servo speed and torque changes as the
                 voltage changes, so coming up with a uniform description
                 for this dependency is going to be tricky.
            
            <li> It should be possible to control the parameters for each
                 servo separately (in other words, the servo abstraction
                 should be configurable).
            
            <li> It should be possible to preset the minimum and maximum
                 angle for the servo. And not only 90&deg; vs. 180&deg;, but
                 arbitrary angle.
                 
            <li> Implied: the pulse length range. The limits may be defined
                 by the servo construction and/or mechanical layout of the
                 apparatus in which the servo is used. This is going to get
                 really technical, but the ability to specify the minimum
                 and maximum pulse length just has to be present.
                 
            <li> Implied: range should be included into capabilities
                 discovery. Implied: the capabilities for each particular
                 servo are different.
                 
            <li> Even though the actual range may be different from 90&deg;
                 or 180&deg;, the number of steps to cover the actual range
                 should be the same.
                 
            <li> Exactly as the capabilities of each physical instance of
                 the servo are different, the capabilities of each physical
                 instance of the controller may be different. To allow
                 proper operation, there should be a mechanism to override
                 default (advertised) capabilities of the servo and the
                 controller. This can be achieved by providing
                 "configurability".
                 
            <li> An entity able to instantiate the controller and configure
                 it ("controller factory") will be useful. Implied:
                 generalized servo controller and servo definition format.
                 Begs for XML configuration file.
                 
            <li> <font color="blue">The servo interface shouldn't really
                 accept the values from 0 to 255 for the servo position, but
                 rather 0.0 to 1.0 (extreme left to extreme right). The
                 reason is, different controllers have different value
                 ranges - some operate from 0 to 255, some from 0 to 254,
                 there is at least <a
                 href="http://www.medonis.com/asc16.html">one</a> that
                 accepts positions from 0 to 4000, some use the high bit as
                 the direction indicator and the rest as position. Implied:
                 precision is different. Implied: controller precision
                 should be included into capabilities discovery.</font>
                 
            <li> <font color="blue">Provide the coordinate transformation
                 between the physical servo position and input value. Useful
                 for compensating the rotational servo movement to linear
                 controlled body movement, as well as applications where the
                 natural input value range differs from 0...1 (for example,
                 steering wheels and rudders). This abstraction shouldn't be
                 really a part of the servo abstraction, but rather a module
                 you can plug the servo into.</font>
            
            <li> <font color="blue">Inverting the coordinate polarity to
                 reverse the servo is not exactly a life saver, but can be
                 useful and is really simple. It can be a part of the
                 coordinate transformation module as well.</font>
                 
            <li> <font color="blue">Implication: the coordinate
                 transformation module interface should be stackable.</font>
                 
            <li> Provide the means to incorporate the closed loop feedback
                 signal and mapping between the feedback and control.
                 
            <li> The ideal servo controller doesn't necessarily have to be
                 integrated - there are cases when the servos are located in
                 remote locations. The surface mount design can possibly fit
                 on the back of the servo.                 

            <li> Implication: it's not that the abstraction of the
                 <strong>servo controller</strong> that is important, it is the
                 abstraction of the <strong>servo</strong>.
                 
            <li> However, the abstraction of the servo controller is
                 important as well: even though the actual servo drivers may
                 be physically and logically separated, they are accessed in
                 the same uniform manner, and share common properties.
                 
            <li> From the practical standpoint: how do I care if the
                 controller is one piece or distributed, as long as the cost is
                 comparable?
                 
            <li> The ideal controller should not be resource hungry. The
                 currently available solutions require a dedicated serial
                 port to control them, why? Good candidates: USB, 1-Wire.
                 
            <li> Smooth transition done in hardware is a desirable feature.
            
            <li> <font color="blue">Actually, it goes beyond just the smooth
                 transition. It is better described as a controlled
                 transition. The transition pattern can be specified, for
                 example, just a simple linear transition in a given time,
                 or a constant and/or limited acceleration transition (good
                 with moving heavy controlled bodies), or approximation
                 transition (good when the exactness of approach to the
                 specified position is required), or any sort of special
                 effect ("drunken master").</font>
                 
            <li> <font color="blue">Transition controller isn't really
                 stackable, so it is enough to "attach" one to the servo
                 abstraction.</font>
            
            <li> <font color="blue">Transition controller may interfere with
                 the coordination transformers, so there should be a
                 possibility to attach it at any level of the coordination
                 transformer stack.</font>
            
        </ul>
        
        <hr>
        <table border=0 width=100%>
            <tr>
                <td align=left>
                    <font size=-1>
                        <a href="../index.html">ServoMaster: Home</a>
                    </font>
                </td>
                <td align=right>
                    <font size=-1>
                        Copyright &copy; <a href="mailto:vt@freehold.crocodile.org">Vadim Tkachenko</a> 2001-2002
                    </font>
                </td>
            </tr>
        </table>
        
    </body>
</html>
