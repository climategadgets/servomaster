%define kernelversion %(uname -r)
%define fusemoduledir /lib/modules/%{kernelversion}/kernel/fs/fuse

%define kernelrel %(uname -r | sed -e s/-/_/g)
%define real_release 6

Name: servomaster
Version: @VERSION@
Release: 1
Summary: ServoMaster: uniform servo controller driver
Source: %{name}-%{version}.tar.gz
Copyright: GPL
Group: Utilities/System
URL: http://servomaster.sourceforge.net/
Buildroot: %{_tmppath}/%{name}-root
Prefix: /usr
Packager: Vadim Tkachenko <vt@freehold.crocodile.org>
Requires: j2sdk = 1.4.2_03-fcs
%description

ServoMaster is dedicated to providing a consistent hardware independent way
of controlling the servos with the personal computer.

%clean
case "$RPM_BUILD_ROOT" in *-root) rm -rf $RPM_BUILD_ROOT ;; esac

%prep
%setup

%build
./configure --prefix=%{prefix} --enable-ft639 --enable-phidget --with-jusb=${HOME}/jusb-0.4.4
make
make check

%install
case "$RPM_BUILD_ROOT" in *-root) rm -rf $RPM_BUILD_ROOT ;; esac
make install \
	prefix=$RPM_BUILD_ROOT%{prefix}

%post

%preun

%postun


%files
%defattr(-,root,root)
%doc README INSTALL INSTALL-Ant INSTALL-configure ChangeLog AUTHORS COPYING

%{prefix}/bin/servomaster_console
%{prefix}/bin/servomaster_sync_check
%{prefix}/share/java/servomaster-@VERSION@.jar

%changelog

* Tue Feb 03 2003 Vadim Tkachenko <vt@freehold.crocodile.org>
- Initial take at RPM build
